// BP primary & secondary navigation - directory and single screens
// @version 3.0.0

// all devices & generic styles sitewide
.bp-navs {
	background: transparent;
	clear: both;

	> ul {
		white-space: nowrap;

		> li {

			display: inline-block;
		}
	}

	ul {
		margin: 0;
		padding: 0;
		overflow: hidden;

		li {
			list-style: none;
			margin: 0;
			float: none;
		}

		li.last {

			select {
				max-width: 185px;
			}
		}

		li.flexMenu-viewMore {
			float: right;

			> a {
				color: $bp-light;
				padding-right: 0;

				i {
					font-size: 1.125rem;
					vertical-align: middle;
				}
			}

			&.flexMenu-viewMore {
				&.selected,
				&.current {
					border-bottom: none;
				}
			}
		}

		li {

			a,
			span {
				border: 0;
				display: block;
				padding: 5px 10px;
				text-decoration: none;
			}

			.count {
				background: transparent;
				border: 1px solid $bp-border-color;
				border-radius: 20px;
				display: inline;

				@include font-size(12);
				margin-left: 2px;
				padding: 3px 6px;
				text-align: center;
				vertical-align: middle;
			}
		}

		// these selected/current should apply to all navs
		// if not pull out & move to end.
		li.selected,
		li.current {

			a {
				font-weight: 600;
				opacity: 1;
			}
		}

		&.dropdown-menu {

			li {

				&:not(:last-child) {
					border-bottom: 1px solid $bp-border-color;
				}

				a {
					padding: .25rem 2rem;
				}

				&.current,
				&.selected {

					a {
						color: $bp-primary;
					}
				}
			}
		}

	} // close ul

	&.bp-invites-filters,
	&.bp-messages-filters {

		ul {

			li {

				a {
					display: inline-block;
				}
			}
		}
	}
	
	&.dir-navs {

		> ul {
			border-bottom: 1px solid $bp-border-color;
			
			> li {

				> a {
					padding: 0 calc(0.5em + 2px) $pad-sml;
				}

				&.selected,
				&.current {
					border-bottom: 2px solid $bp-primary;

					> a {
						color: $bp-primary;
					}
				}
			}
		}
	}

	&.bp-subnavs {
		
		> ul {
			
			> li {
				
				&.selected,
				&.current {
					border-bottom: 2px solid $bp-primary;
					
					> a {
						color: $bp-primary;
					}
				}
			}

			li {

				&.selected,
				&.current {
					
					> a {
						color: $bp-primary;
					}
				}

				&.has-current {

					> a {
						color: $bp-primary;
					}
				}
			}
		}
	}
	
	&.single-screen-navs {
	
		ul {
			white-space: initial;
			overflow-x: initial;
				
			li {
				background: none !important;
				display: block;
				float: left;
				
				a {
					position: relative;
					
					&:before {
						font-family: 'unicons' !important;
						content: "\e810";
						display: block;
						font-size: 1.25rem;
						text-align: center;
						font-weight: normal !important;
					}

					&:hover {
						color: $bp-primary;
						
						span.nav-link-text {
							color: $bp-primary;
						}
					}
				}
				
				span.nav-link-text {
					border: none;
				}
				
				&#front-personal-li {
					
					a::before {
						content: "\ea4e";
					}
				}
				
				&#activity-personal-li {
				
					a::before {
						content: "\eaf5";
					}
				}
				
				&#xprofile-personal-li {
				
					a::before {
						content: "\e8d3";
					}
				}

				&#invitations-personal-li {
				
					a::before {
						content: "\e9a9";
					}
				}
				
				&#notifications-personal-li {
				
					a::before {
						content: "\e87e";
					}
				}
				
				&#messages-personal-li {
				
					a::before {
						content: "\e9af";
					}
				}
				
				&#blogs-personal-li {
				
					a::before {
						content: "\e97d";
					}
				}

				&#friends-personal-li {
				
					a::before {
						content: "\ec19";
					}
				}
				
				&#groups-personal-li {
				
					a::before {
						content: "\ec1a";
					}
				}
				
				&#settings-personal-li {
				
					a::before {
						content: "\e918";
					}
				}

				&#media-personal-li {
				
					a::before {
						content: "\ea6f";
					}
				}

				&#my-adverts-personal-li {

					a::before {
						content: "\ec04";
					}
				}

				&#shop-personal-li {

					a::before {
						content: "\e8c7";
					}
				}

				&#forums-personal-li {
				
					a::before {
						content: "\e94f";
					}
				}

				&#courses-personal-li {

					a::before {
						content: "\ea3b";
					}
				}

				&#quizzes-personal-li {

					a::before {
						content: "\eb39";
					}
				}

				&#orders-personal-li {

					a::before {
						content: "\eb40";
					}
				}

				&#articles-personal-li {

					a::before {
						content: "\eaf6";
					}
				}
				
				// groups profile menu icons
				
				&#home-groups-li {
				
					a::before {
						content: "\ea4e";
					}
				}
				
				&#activity-groups-li {
				
					a::before {
						content: "\eaf5";
					}
				}
				
				&#members-groups-li {
				
					a::before {
						content: "\ec19";
					}
				}
				
				&#invite-groups-li {
				
					a::before {
						content: "\e9e6";
					}
				}
				
				&#admin-groups-li {
					
					a::before {
						content: "\e918";
					}
				}

				&#request-membership-groups-li {
					
					a::before {
						content: "\ec16";
					}
				}

				&#nav-forum-groups-li {
					
					a::before {
						content: "\e94f";
					}
				}

				&#media-groups-li {
				
					a::before {
						content: "\ea6f";
					}
				}
				

				&.flexMenu-viewMore {

					> a::before {
						content: "\e99e";
					}
				}
				
			}
		}
		
		&.vertical {

			ul {

				li {

					&.current,
					&.selected {

						a {
							color: $bp-primary;
						}

						span.nav-link-text {
							color: $bp-primary;
						}
					}
				}
			}

			@include large-max() {
				padding: 1rem 0;
				border-bottom: 1px solid $bp-border-color;
				margin-bottom: 30px;
				
				ul {
					overflow: initial;
					text-align: center;
					
					li {
						float: none;
						display: inline-block;
						
						a {
							color: $bp-light;
							font-size: 11px;
							text-align: center;
							font-weight: 600;
							padding-left: 1.125rem;
							padding-right: 1.125rem;
							
							&:before {
								padding-top: 5px;
							}
							
							span.nav-link-text {
								padding: 0;
								color: $bp-light;
							}
						}
						
						.count {
							background: #fff;
							position: absolute;
							top: 0;
							right: .25rem;
							line-height: 1;
						}
					}
				}
			}
		}
		
		&.horizontal {
			padding: 1rem 0;
			overflow: initial;
			position: relative;
			
			&::after {
				content: "";
				background: $bp-border-color;
				width: 5000px;
				height: 1px;
				position: absolute;
				left: 50%;
				transform: translateX(-50%);
				bottom: 0;
			}

			@media screen and (max-width: 1199.98px) and (min-width: 991.98px) {
				
				.col-lg-6 {
					-ms-flex: 0 0 65%;
					flex: 0 0 65%;
					max-width: 65%;

					&.ml-auto {
						margin-left: 25% !important;
					}

					&.mr-auto {
						margin-right: 0 !important;
					}
				}
			}

			ul {
				
				&.profile-nav {
					display: flex;
					white-space: nowrap;
					margin: -1rem;
					padding: 1rem;
					overflow: hidden;

					@media screen and (max-width: 991.98px) and (min-width: 767.98px) {
						padding-left: 3rem;
						padding-right: 3rem;
					}
					
					&.has-dropdown {
						overflow: initial;
					}
					
					li {
						float: none;
					}

					> li {

						@include large-up() {
							&.current,
							&.selected,
							&.has-current {
							
								> a {
									background: $bp-primary;
									height: 67px;
									width: 72px;
									border-radius: 12px;
									color: #fff;
									box-shadow: 0 10px 20px -8px rgba($bp-shadow, 0.7);
									
									&:before {
										line-height: 57px;
										padding: 0;
									}
									
									span.nav-link-text {
										color: $bp-light;
										display: none;
									}

									.count {
										color: $bp-light;
										top: -.5rem;
										right: -.5rem;
									}
								}
							}
						}
					}
				}
				
				li {
					
					a {
						color: $bp-light;
						font-size: 90%;
						text-align: center;
						padding-left: 1.125rem;
						padding-right: 1.125rem;
						
						&:before {
							padding-top: 5px;
						}
						
						span.nav-link-text {
							padding: 0;
							color: $bp-light;
						}
					}
					
					.count {
						background: $bp-pale__2;
						font-size: .5rem;
						font-weight: bold;
						line-height: 1;
						position: absolute;
						top: 0;
						left: 50%;
						border: none;
					}
					
					.dropdown-toggle:after {
						content: "";
					}
				}
				
				.dropdown-menu {
					z-index: 999999;
					
					li {
						padding: 0;
						
						> a {
							text-align: left;
							padding-left: calc(1.125rem + 1.375rem) !important;
							font-size: 1em;
							
							&::before {
								position: absolute;
								left: 1.125rem;
								top: 50%;
								transform: translateY(-50%);
								padding: 0;
								font-size: 1rem;
								line-height: inherit;
							}
							
							span {
								display: inline-block !important;
								position: relative;
							}
							
							.count {
								top: initial;
								left: initial;
								right: initial;
							}
						}
						
						&.current,
						&.selected {
							
							a {
								background: none;
								height: auto;
								width: auto;
								border-radius: 0;
								color: $bp-primary;
								box-shadow: none;
								font-weight: normal;
								
								.nav-link-text {
									color: $bp-primary;
								}
							}
						}
					}
				}
			}
			
			@include large-max() {
			
				ul {
					text-align: center;
					
					&.profile-nav {
						display: block;

						.dropdown-menu {

							> li {
								display: block;
							}
						}
					}
					
					li {
						float: none;
						display: inline-block;
						
						&.current,
						&.selected,
						&.has-current {

							> a {
								color: $bp-primary;

								span {
									color: $bp-primary;
								}
							}
						}
					}
				}
			}
		}
	}

} // close .bp-navs

.main-navs.dir-navs {
	margin-bottom: 1.5rem;
}


// visual styling of default single navs - adds background/padding to
// the parent elements if vertical nav not selected
.buddypress-wrap:not(.bp-single-vert-nav) {

	.user-subnav#subsubnav,
	.group-subnav#subsubnav {
		background: none;
	}
}

// Specifically default subnav elements
.buddypress-wrap {

	.bp-subnavs,
	ul.subnav {
		width: 100%;
	}

	.bp-subnavs {

		margin-bottom: 1.5rem;

		> ul {
			width: 100%;
			border-bottom: 1px solid $bp-border-color;
		}

		ul {

			li {
				margin-top: 0;

				&.selected,
				&.current {

					:focus,
					:hover {
						background: none;
					}
				}
				
			}
		}
	}

	.bp-navs.bp-invites-nav#subnav,
	.bp-navs.bp-invites-filters#subsubnav,
	.bp-navs.bp-messages-filters#subsubnav {

		ul {

			li.last {
				margin-top: 0;
			}
		}
	}

} // close .buddypress-wrap

.buddypress_object_nav,
.buddypress-wrap {

	.bp-navs {

		li.selected,
		li.current {

			a {

				.count {
					background-color: $white;
				}
			}
		} // close li

		li.dynamic,
		li.dynamic.selected,
		li.dynamic.current {

			a {

				.count {
					background-color: $bp-primary;
					border: 0;
					color: #fff;
				}
			}
		}

		li.dynamic {

			a:hover {

				.count {
					background-color: lighten($bp-primary, 10%); 
					border: 0;
					color: #fff;
				}
			}
		}

		li {

			a {

				.count:empty {
					display: none;
				}
			}
		}
	} // bp-navs

	// Create steps current position tabs highlight
	.bp-navs.group-create-links {

		ul {

			li:not(.current) {
				color: $bp-text;

				a {
					color: $bp-text;

					&:focus,
					&:hover {
						background: none;
					}
				}

				a[disabled] {

					&:focus,
					&:hover {
						color: $bp-text;
					}
				}
			}

			li.current {

				a {
					text-align: center;
				}
			}
		}
	}
}

// Just buddypress_object_nav rules
.buddypress_object_nav {

	.bp-navs {

		li {

			a {

				.count {
					display: inline-block;
					float: right;
				}
			}
		}

	}
}

// Directory screens vertical nav rules



// Tabbed links

// Our tabbed links are pulled in via a mixin
// UL parent element must have 'tabbed-links' added and the ul 'button-tabs'
// medium screens up

.buddypress-wrap {

	@include large-up {

		// Profile group labels links
		// Button navigation as tabbed effect for wide screen

		@include tabbed-links();

		.bp-navs.tabbed-links {
			background: none;

			// For tabbed nav we remove any default button nav styles.
			ul {

				li.last {
					float: right;
					margin: 0;
				}

				li,
				li.current {

					a,
					a:focus,
					a:hover {
						background: none;
						border: 0;
					}

					a:active {
						outline: none;
					}
				}
			}
		} // close .bp-navs.tabbed-links
	} // @media
}

// Bp avatar nav overrides
.bp-avatar-nav {
	
	ul {
		border-bottom: 1px solid $bp-border-color;
		
		&.avatar-nav-items {
			
			li.current {
				border: 1px solid $bp-border-color;
				border-bottom-color: #fff;
			}
		}
	}
}

body {

	&.beehive-guest-user {

		&.my-groups,
		&.my-friends {

			.profile-col-main {

				> .bp-subnavs {
					display: none;
				}
			}
		}
	}
}
