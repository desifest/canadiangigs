// BP Whats new form handles user updates to groups or profiles
// @version 3.0.0

.activity-update-form {
	padding: 2rem;
}

.item-body {

	.activity-update-form {

		.activity-form {
			margin: 0;
			padding: 0;
		}
	}
}

.activity-update-form {
	background: #fff;
	position: relative;
	margin-bottom: 2.5rem;
	padding: 2.5rem 2rem;
	border-radius: 12px;
	box-shadow: 0 20px 90px rgba($bp-shadow, 0.05);
	
	&:before {
		content: "";
		background: #fff;
		height: 95%;
		border-radius: 12px;
		position: absolute;
		left: 1rem;
		right: 1rem;
		margin: auto;
		bottom: -13px;
		z-index: -1;
		box-shadow: 0 20px 90px rgba($bp-shadow, 0.04);
	}

	#whats-new-avatar {
		float: left;
		display: inline-block;

		img {
			width: 40px;
			height: auto;
		}
	}

	// these ID's need replacing with this!
	//.content-wrap { // #whats-new-content

	#whats-new-content {
		margin-left: 50px;
	}

	// these ID's need replacing with this!
	//.textarea-wrap { // #whats-new-textarea

	#whats-new-textarea {

		textarea {
			background: transparent;
			padding: 10px 15px 8px;
			width: 100%;
			border: 1px solid $bp-border-color;
			line-height: 20px;
		}
	}
	
	form#whats-new-form {
		position: relative;
		font-size: 90%;
		
		&::after {
			content: " ";
			display: block; 
			height: 0; 
			clear: both;
		}
		
		// & > div:not(:nth-child(1)):not(:nth-child(2)) {
		// 	float: left;
		// 	margin: .5rem .25rem 0 0;
		// }
		
		& > div:nth-child(3) {
			margin-left: 50px !important;
		}

		#whats-new-options {
			@include flex-box-dir(row, wrap);
			width: 100%;
			padding-top: .5rem;

			#whats-new-submit {
				margin-left: auto;
			}

			@include medium-small-max() {

				> div {
					width: 100%;

					&:not(:last-child) {
						margin-bottom: .5rem;
					}
				}

				#whats-new-post-in-box {

					select {
						width: 100%;
					}
				}

				#whats-new-submit {
					
					input {
						width: 100%;
						float: none;
						text-align: center;
					}
				}
			}
		}
		
		#whats-new-submit {
			margin-right: 0;
			
			> * {
				float: right;
			}
			
			input[type="button"] {
				background: $beehive-primary;
				color: #fff;
				border: none;
				box-shadow: 0 8px 8px -7px rgba(58, 46, 68, 0.35);
				
				&:hover,
				&:active,
				&:focus {
					background: lighten($beehive-primary, 10%);
					color: #fff;
					box-shadow: 0 10px 15px -7px rgba(58, 46, 68, 0.25);
					transition: all .5s;
				}
			}
		}
		
		a.button,
		input[type="submit"],
		input[type="button"],
		input[type="reset"],
		button[type="submit"],
		button[type="button"]
		button[type="reset"] {
			height: 30px;
			min-height: initial;
			padding-top: 0;
			padding-bottom: 0;
		}
		
		select {
			background-color: transparent;
			height: 30px;
			padding-top: 0;
			padding-bottom: 0;
			
			&:not(:focus) {
				border: 1px solid $bp-border-color;
			}
		}
		
		.bp-feedback {
			width: 100%;
			margin-top: 1rem !important;
		}

		.char-count {
			position: absolute;
			right: 0;
			bottom: 5px;
			display: none;
		}

		&:not(.activity-form-expanded) {

			#whats-new-textarea {

				textarea {
					height: 40px !important;
				}
			}
		}
	}

	#whats-new-post-in-box {

		#whats-new-post-in-box-items {
			list-style: none;
			padding: 0;
			margin: 0;
			margin-top: .5rem;

			li {
				margin-top: .25rem;

				&:first-child {
					margin-top: 0;
				}
			}

			#activity-autocomplete {
				background: transparent;
				border: 1px solid $bp-border-color;
				padding-top: 0;
				padding-bottom: 0;
				height: 30px;
			}

			.bp-activity-object {

				@include center-vert();
				padding: 0.25rem;

				.avatar {
					width: 30px;
				}

				span {
					padding-left: .5rem;
					vertical-align: middle;
				}

				&:focus,
				&:hover {
					background: #fafafd;
					cursor: pointer;
					border-radius: 100px;
				}

				&.selected {
					background: $bp-pale__2;
					border-radius: 100px;
				}

				.bp-remove-item {
					background: none;
					height: auto;
					min-height: unset;
					box-shadow: none;
					margin-left: auto;
					padding: 0;
					border: none;
					color: red;
					font-size: inherit;
				}
			}
		}

	}

	#whats-new-submit {
		
		input {

			&:hover{
				cursor: pointer;
			}
		}
		
	}
	
	form#whats-new-form.activity-form-expanded {
		margin-bottom: calc(-2.5rem + .5rem);
	
		> div {
			margin-left: 0 !important;
		}
	
		#whats-new-avatar {
			position: absolute;
		}
		
		#whats-new-content {
			width: 100%;
			margin-left: 0;
			padding-left: 40px;
			border-bottom: 1px solid $bp-border-color;
			
			textarea {
				border-color: transparent;
			}
		}
		
		.rtmedia-uploader-div {
			width: 100%;
			margin: 0 !important;
			padding: .5rem 0;
			border-bottom: 1px solid $bp-border-color;
			
			@include medium-up() {

				.rtmedia-plupload-container {
					float: left;
				}

				.rtmedia-upload-terms {
					float: right;
				}
			}
			
			.rtmedia-plupload-notice {
				float: left;
				width: 100%;
				
				.plupload_file_name_wrapper {
					width: 160px;
				}
			}
			
			select {
				background-color: $beehive-input;
				
				&:not(:focus) {
					border-color: transparent;
				}

				@include medium-small-max() {
					max-width: 114px;
				}
			}
		}
		
		button#rtmedia-add-media-button-post-update {
			background-color: transparent;
			height: 30px;
			padding: 0;
			text-align: center;
			box-shadow: none;

			> span {
				display: inline-block;
				background-color: $beehive-input;
				border-radius: 1.25rem;
				padding: 0 1rem;

				&:not(:last-child) {
					margin-right: .25rem;
				}

				&.dashicons-admin-media {
					width: 30px;
					height: 30px;
					padding: 0;

					@include medium-small-max() {
						display: none;
					}
				}
			}
		}

		.char-count {
			display: block;
		}
	}

}
